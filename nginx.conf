server {
    listen 8080 default_server;
	server_name _;

	# Serve static assets with long cache. Vite emits hashed filenames.
	location ~* \.(?:js|css|png|jpg|jpeg|gif|svg|ico|webp|woff|woff2|ttf|otf)$ {
		root /usr/share/nginx/html;
		access_log off;
		add_header Cache-Control "public, max-age=31536000, immutable";
		try_files $uri =404;
	}

	# SPA fallback for client-side routing
	location / {
		root /usr/share/nginx/html;
		try_files $uri $uri/ /index.html;
	}

	# Compression
	gzip on;
	gzip_types text/plain application/xml text/css application/javascript application/json image/svg+xml;
	gzip_min_length 1024;
	gzip_comp_level 5;
}
